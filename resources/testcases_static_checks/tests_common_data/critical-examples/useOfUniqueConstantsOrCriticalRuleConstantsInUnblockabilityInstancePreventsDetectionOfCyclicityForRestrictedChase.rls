T(!W), S(?Y, ?Z, !W) :- R(?X, ?Y, ?Z) .
P(?X, ?W) :- S(?X, ?Y, ?Z), T(?W) .
P(?X, ?X), R(!V, ?Y, ?Y) :- P(?X, ?Y) .

