S(?Y, ?Z, !W) :- R(?X, ?Y, ?Z), B(?V) .
T(?V, !W) :- B(?V) .
P(?X, ?W, ?Z) :- S(?X, ?Y, ?Z), T(?V, ?W) .
R(?X, ?Y, ?Z) | A(?Z, ?Y) :- P(?X, ?Y, ?Z) .
A(?Y, ?X) :- P(?X, ?X, ?Y) .

