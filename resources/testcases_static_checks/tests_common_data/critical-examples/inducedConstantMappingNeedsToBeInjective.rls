R(?X, !Z), S(?Y, !Z) :- P(?X, ?Y) .
T(?Y, !Z) :- R(?X, ?Y) .
T(?Y, ?X) :- R(?X, ?Y), S(?X, ?Y) .
P(?Y, ?Y) :- T(?X, ?Y) .

